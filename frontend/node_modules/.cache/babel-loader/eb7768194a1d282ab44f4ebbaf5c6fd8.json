{"ast":null,"code":"var _jsxFileName = \"/home/dvd/Desktop/Pro35/frontend/src/components/form/Categoria1.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport clsx from 'clsx';\nimport { createMuiTheme, makeStyles, ThemeProvider } from '@material-ui/core/styles';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport '../../assets/css/Style.css';\nimport { orange } from '@material-ui/core/colors';\nimport Typography from '@material-ui/core/Typography';\nconst useStyles = makeStyles({\n  root: {\n    '&:hover': {\n      backgroundColor: 'transparent'\n    }\n  },\n  icon: {\n    borderRadius: '50%',\n    width: 16,\n    height: 16,\n    boxShadow: 'inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)',\n    backgroundColor: '#f5f8fa',\n    backgroundImage: 'linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))',\n    '$root.Mui-focusVisible &': {\n      outline: '2px auto rgba(19,124,189,.6)',\n      outlineOffset: 2\n    },\n    'input:hover ~ &': {\n      backgroundColor: '#ebf1f5'\n    },\n    'input:disabled ~ &': {\n      boxShadow: 'none',\n      background: 'rgba(206,217,224,.5)'\n    }\n  },\n  checkedIcon: {\n    backgroundColor: '#137cbd',\n    backgroundImage: 'linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))',\n    '&:before': {\n      display: 'block',\n      width: 16,\n      height: 16,\n      backgroundImage: 'radial-gradient(#fff,#fff 28%,transparent 32%)',\n      content: '\"\"'\n    },\n    'input:hover ~ &': {\n      backgroundColor: '#106ba3'\n    }\n  }\n});\n\nfunction StyledRadio(props) {\n  const classes = useStyles();\n  return React.createElement(Radio, Object.assign({\n    className: classes.root,\n    disableRipple: true,\n    color: \"default\",\n    checkedIcon: React.createElement(\"span\", {\n      className: clsx(classes.icon, classes.checkedIcon),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }),\n    icon: React.createElement(\"span\", {\n      className: classes.icon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    })\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }));\n}\n\nconst theme = createMuiTheme({\n  typography: {\n    // Tell Material-UI what the font-size on the html element is.\n    htmlFontSize: 16\n  }\n});\n\nclass Categoria1 extends Component {\n  constructor() {\n    super();\n    this.state = {\n      idDominio: [],\n      idPregunta: [],\n      nombreCategoria: \"\",\n      nombreDominio: \"\",\n      categorias: [],\n      dominios: [],\n      dimensiones: [],\n      preguntas: [],\n      answer: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  fetchCategorias() {\n    fetch('http://localhost:3000/api/categoria/listar/5e27327a91f09e071c85810d/').then(res => res.json()).then(data => {\n      console.log(data);\n      this.setState({\n        categorias: data\n      }); //console.log(this.state.categorias+ \" Categorias\");\n\n      console.log(data);\n    });\n  }\n\n  getSelectStyles(name, personName, theme) {\n    return {\n      fontWeight: personName.indexOf(name) === -1 ? theme.typography.fontWeightRegular : theme.typography.fontWeightMedium\n    };\n  }\n\n  fetchDominios() {\n    fetch('/api/dominio/listar3').then(res => res.json()).then(data => {\n      console.log(data + \"Dominios\");\n      this.setState({\n        dominios: data\n      });\n      console.log(this.state.dominios + \"Dominios\");\n    });\n  }\n\n  componentDidMount() {\n    console.log('componente fue montado');\n    this.fetchCategorias();\n    this.fetchDominios();\n  }\n\n  handleChange(event, categoria, dominio, dimension, pregunta) {\n    const answer = event.target.value;\n    const answersplit = answer.split('/');\n    const respuesta = {\n      idCategoria: categoria._id,\n      idDominio: dominio._id,\n      idDimension: dimension._id,\n      idPregunta: pregunta._id,\n      valorRespuesta: answersplit[1],\n      idRespuesta: answersplit[0]\n    };\n    let respuestasLS = JSON.parse(localStorage.getItem('respuestasc')) || []; //\n\n    const idPregunta_ = pregunta._id;\n    let buscandoPregunta = respuestasLS.find(respuesta => respuesta.pregunta === idPregunta_);\n    const indexPregunta = respuestasLS.indexOf(buscandoPregunta);\n\n    if (indexPregunta !== -1) {\n      buscandoPregunta = respuesta;\n      respuestasLS[indexPregunta] = buscandoPregunta;\n    } else {\n      respuestasLS.push(respuesta);\n    }\n\n    localStorage.setItem('respuestasc', JSON.stringify(respuestasLS));\n    console.log(event.target.name);\n    const _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n    this.setState({\n      [idPregunta]: answer\n    }); //cambiar el estado de una app de react\n  }\n\n  obtenervaloradio(pregunta) {\n    debugger;\n    const _id = pregunta._id;\n    let respuestasLS = JSON.parse(localStorage.getItem('respuestas'));\n\n    if (respuestasLS) {\n      let buscandoPregunta = respuestasLS.find(respuestac => respuestac.pregunta === _id);\n\n      if (buscandoPregunta) {\n        let valorRespuesta = JSON.stringify(buscandoPregunta.valorRespuesta).replace('\"', '').replace('\"', '');\n        let respuesta = JSON.stringify(buscandoPregunta.respuesta).replace('\"', '').replace('\"', '');\n        const valor = respuesta + '/' + valorRespuesta;\n        return valor;\n      } else {\n        return null;\n      }\n    } else {\n      return null;\n    }\n  }\n\n  render() {\n    //const {children} = this.props;\n    const message = \"Hola\";\n    return React.createElement(ThemeProvider, {\n      theme: theme,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"div-encuesta\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"dn-id\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, \"Categorias\")), this.state.categorias.map(categoria => {\n      localStorage.setItem('categoria ' + categoria._id, JSON.stringify(categoria._id));\n      return React.createElement(\"div\", {\n        key: categoria._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        className: \"section-categoria\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, categoria.nombreCategoria), \" \"), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }), categoria.idDominio.map(dominio => {\n        localStorage.setItem('dominio ' + dominio._id, JSON.stringify(dominio._id));\n        return React.createElement(\"div\", {\n          key: dominio._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"section-dominio\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, \" \", React.createElement(\"div\", {\n          className: \"dn-id\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, \" Dominio \", dominio._id, \" \"), \" \", React.createElement(Typography, {\n          variant: \"h6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, dominio.nombreDominio, \" \")), dominio.idDimension.map(dimension => {\n          localStorage.setItem('dimension ' + dimension._id, JSON.stringify(dimension._id));\n          return React.createElement(\"div\", {\n            key: dimension._id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 229\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"section-dimension\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 230\n            },\n            __self: this\n          }, \" \", React.createElement(\"div\", {\n            className: \"dn-id\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 230\n            },\n            __self: this\n          }, \"Dimension  \", dimension._id), \" \", React.createElement(Typography, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 230\n            },\n            __self: this\n          }, dimension.nombreDimension)), dimension.idPreguntas.map(pregunta => {\n            return React.createElement(\"div\", {\n              className: \"section-preguntas\",\n              key: pregunta._id,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 234\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: \"dn-id\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 235\n              },\n              __self: this\n            }, \"Pregunta \", pregunta._id, \" \"), React.createElement(Typography, {\n              variant: \"h6\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 235\n              },\n              __self: this\n            }, \" \", pregunta.nombrePregunta, \": \"), React.createElement(FormLabel, {\n              component: \"legend\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 236\n              },\n              __self: this\n            }, \"Respuestas\"), React.createElement(RadioGroup, {\n              defaultValue: this.obtenervaloradio(pregunta, categoria, dominio, dimension),\n              onChange: event => this.handleChange(event, categoria, dominio, dimension, pregunta),\n              \"aria-label\": pregunta._id,\n              name: \"customized-radios\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 238\n              },\n              __self: this\n            }, pregunta.idRespuestas.map(respuesta => {\n              localStorage.setItem(respuesta._id + '/' + pregunta._id + '/' + respuesta.valorRespuesta, JSON.stringify(respuesta._id));\n              return React.createElement(\"div\", {\n                key: respuesta._id,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 247\n                },\n                __self: this\n              }, React.createElement(FormControlLabel, {\n                value: respuesta._id + '/' + respuesta.valorRespuesta,\n                control: React.createElement(StyledRadio, {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 248\n                  },\n                  __self: this\n                }),\n                label: respuesta.nombreRespuesta,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 248\n                },\n                __self: this\n              }));\n            })));\n          }));\n        }));\n      }));\n    })));\n  }\n\n}\n\nexport default Categoria1;","map":{"version":3,"sources":["/home/dvd/Desktop/Pro35/frontend/src/components/form/Categoria1.js"],"names":["React","Component","render","clsx","createMuiTheme","makeStyles","ThemeProvider","Radio","RadioGroup","FormControlLabel","FormControl","FormLabel","orange","Typography","useStyles","root","backgroundColor","icon","borderRadius","width","height","boxShadow","backgroundImage","outline","outlineOffset","background","checkedIcon","display","content","StyledRadio","props","classes","theme","typography","htmlFontSize","Categoria1","constructor","state","idDominio","idPregunta","nombreCategoria","nombreDominio","categorias","dominios","dimensiones","preguntas","answer","handleChange","bind","fetchCategorias","fetch","then","res","json","data","console","log","setState","getSelectStyles","name","personName","fontWeight","indexOf","fontWeightRegular","fontWeightMedium","fetchDominios","componentDidMount","event","categoria","dominio","dimension","pregunta","target","value","answersplit","split","respuesta","idCategoria","_id","idDimension","valorRespuesta","idRespuesta","respuestasLS","JSON","parse","localStorage","getItem","idPregunta_","buscandoPregunta","find","indexPregunta","push","setItem","stringify","obtenervaloradio","respuestac","replace","valor","message","map","nombreDimension","idPreguntas","nombrePregunta","idRespuestas","nombreRespuesta"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport clsx from 'clsx';\nimport { createMuiTheme, makeStyles, ThemeProvider } from '@material-ui/core/styles';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport '../../assets/css/Style.css';\nimport { orange } from '@material-ui/core/colors';\nimport Typography from '@material-ui/core/Typography';\n\n\n\nconst useStyles = makeStyles({\n  root: {\n    '&:hover': {\n      backgroundColor: 'transparent',\n    },\n  },\n  icon: {\n    borderRadius: '50%',\n    width: 16,\n    height: 16,\n    boxShadow: 'inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)',\n    backgroundColor: '#f5f8fa',\n    backgroundImage: 'linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))',\n    '$root.Mui-focusVisible &': {\n      outline: '2px auto rgba(19,124,189,.6)',\n      outlineOffset: 2,\n    },\n    'input:hover ~ &': {\n      backgroundColor: '#ebf1f5',\n    },\n    'input:disabled ~ &': {\n      boxShadow: 'none',\n      background: 'rgba(206,217,224,.5)',\n    },\n  },\n  checkedIcon: {\n    backgroundColor: '#137cbd',\n    backgroundImage: 'linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))',\n    '&:before': {\n      display: 'block',\n      width: 16,\n      height: 16,\n      backgroundImage: 'radial-gradient(#fff,#fff 28%,transparent 32%)',\n      content: '\"\"',\n    },\n    'input:hover ~ &': {\n      backgroundColor: '#106ba3',\n    },\n  },\n});\n\nfunction StyledRadio(props) {\n  const classes = useStyles();\n\n  return (\n    <Radio\n      className={classes.root}\n      disableRipple\n      color=\"default\"\n      checkedIcon={<span className={clsx(classes.icon, classes.checkedIcon)} />}\n      icon={<span className={classes.icon} />}\n      {...props}\n    />\n  );\n}\n\nconst theme = createMuiTheme({\n  typography: {\n    // Tell Material-UI what the font-size on the html element is.\n    htmlFontSize: 16,\n  },\n});\n\nclass Categoria1 extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      idDominio: [],\n      idPregunta: [],\n      nombreCategoria: \"\",\n      nombreDominio: \"\",\n      categorias: [],\n      dominios: [],\n      dimensiones: [],\n      preguntas: [],\n      answer: \"\",\n\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n\n\n  fetchCategorias() {\n    fetch('http://localhost:3000/api/categoria/listar/5e27327a91f09e071c85810d/')\n      .then(res => res.json())\n      .then(data => {\n        console.log(data);\n        this.setState({ categorias: data });\n        //console.log(this.state.categorias+ \" Categorias\");\n        console.log(data)\n      });\n  }\n\n  getSelectStyles(name, personName, theme) {\n    return {\n      fontWeight:\n        personName.indexOf(name) === -1\n          ? theme.typography.fontWeightRegular\n          : theme.typography.fontWeightMedium,\n    };\n  }\n\n  fetchDominios() {\n    fetch('/api/dominio/listar3')\n      .then(res => res.json())\n      .then(data => {\n        console.log(data + \"Dominios\");\n        this.setState({ dominios: data });\n        console.log(this.state.dominios + \"Dominios\");\n      })\n\n  }\n\n\n\n  componentDidMount() {\n    console.log('componente fue montado');\n    this.fetchCategorias();\n    this.fetchDominios();\n  }\n\n\n\n  handleChange(event , categoria, dominio, dimension, pregunta) {\n    const answer = event.target.value;\n\n    const answersplit = answer.split('/')\n\n    const respuesta = {\n      idCategoria:categoria._id,\n      idDominio:dominio._id,\n      idDimension:dimension._id,\n      idPregunta:pregunta._id,\n      valorRespuesta:answersplit[1],\n      idRespuesta:answersplit[0]\n    }\n\n    let respuestasLS = JSON.parse(localStorage.getItem('respuestasc')) || [];\n    //\n    const idPregunta_ = pregunta._id;\n    let buscandoPregunta = respuestasLS.find(respuesta => respuesta.pregunta === idPregunta_);\n    const indexPregunta = respuestasLS.indexOf(buscandoPregunta);\n\n    if(indexPregunta !== -1) {\n      buscandoPregunta = respuesta;\n      respuestasLS[indexPregunta] = buscandoPregunta;\n    } else {\n      respuestasLS.push(respuesta);\n    }\n\n    localStorage.setItem('respuestasc', JSON.stringify(respuestasLS))\n  console.log(event.target.name);\n   const { name, value } = event.target;\n   this.setState({\n      [idPregunta]: answer\n      \n    }); //cambiar el estado de una app de react\n\n  \n  }\n\n  obtenervaloradio(pregunta) {\n    debugger;\n    const {_id } = pregunta;\n    let respuestasLS = JSON.parse(localStorage.getItem('respuestas'));\n    if(respuestasLS) {\n      let buscandoPregunta = respuestasLS.find(respuestac => respuestac.pregunta === _id);\n      if(buscandoPregunta) {\n        let valorRespuesta = JSON.stringify(buscandoPregunta.valorRespuesta).replace('\"','').replace('\"','')\n        let respuesta = JSON.stringify(buscandoPregunta.respuesta).replace('\"','').replace('\"','')\n        const valor =    respuesta + '/' + valorRespuesta ;\n        return valor\n\n      } else {\n        return null\n      }\n  } else {\n    return null;\n  }\n    \n  }\n\n\n  render() {\n\n    //const {children} = this.props;\n    const message = \"Hola\";\n    return (\n      <ThemeProvider theme={theme}>\n        <div className=\"div-encuesta\">\n          <h1 className='dn-id'><Typography>Categorias</Typography></h1>\n          {\n            this.state.categorias.map(categoria => {\n              localStorage.setItem('categoria ' + categoria._id, JSON.stringify(categoria._id))\n              return (\n\n                <div key={categoria._id}>\n                  <section className=\"section-categoria\"><Typography variant=\"h6\">{categoria.nombreCategoria}</Typography> </section>\n                  {/*JSON.stringify(categoria.idDominio.map(dominios => dominios.nombreDominio).join(\"/\")).replace(/['\"]+/g, '')*/} <br></br>\n\n                  {categoria.idDominio.map(dominio => {\n                    localStorage.setItem('dominio ' + dominio._id, JSON.stringify(dominio._id))\n\n                    return (\n                      <div key={dominio._id}>\n                        <div className=\"section-dominio\"> <div className='dn-id'> Dominio {dominio._id} </div> <Typography variant=\"h6\">{dominio.nombreDominio} </Typography></div>\n                        {\n                          dominio.idDimension.map(dimension => {\n                            localStorage.setItem('dimension ' + dimension._id, JSON.stringify(dimension._id))\n\n                            return (\n                              <div key={dimension._id}>\n                                <div className=\"section-dimension\"> <div className=\"dn-id\">Dimension  {dimension._id}</div> <Typography>{dimension.nombreDimension}</Typography></div>\n                                {\n                                  dimension.idPreguntas.map(pregunta => {\n                                    return (\n                                      <div className=\"section-preguntas\" key={pregunta._id}>\n                                        <div className=\"dn-id\">Pregunta {pregunta._id} </div><Typography variant=\"h6\"> {pregunta.nombrePregunta}: </Typography>\n                                        <FormLabel component=\"legend\">Respuestas</FormLabel>\n\n                                        <RadioGroup\n                                          defaultValue={this.obtenervaloradio(pregunta, categoria, dominio, dimension)}\n                                          onChange={(event) => this.handleChange(event, categoria, dominio, dimension, pregunta)} aria-label={pregunta._id} name=\"customized-radios\">\n                                          {\n\n                                            pregunta.idRespuestas.map(respuesta => {\n\n                                              localStorage.setItem(respuesta._id + '/' + pregunta._id + '/' + respuesta.valorRespuesta, JSON.stringify(respuesta._id))\n                                              return (\n                                                <div key={respuesta._id}>\n                                                  <FormControlLabel value={respuesta._id + '/' + respuesta.valorRespuesta} control={<StyledRadio />} label={respuesta.nombreRespuesta} />\n\n                                                </div>\n                                              )\n                                            })\n                                          }\n                                        </RadioGroup>\n                                      </div>\n\n                                    )\n                                  })\n                                }\n                              </div>\n\n                            )\n                          })\n                        }\n                      </div>\n                    )\n                  })}\n\n                  { /*JSON.stringify(categoria.idPreguntas)*/}\n\n                </div>\n              )\n            })\n\n          }\n        </div>\n      </ThemeProvider>\n    )\n  }\n}\n\nexport default Categoria1;"]},"metadata":{},"sourceType":"module"}